<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Perfil | ConectaLab</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../css/styles.css" rel="stylesheet">
</head>
<body id="top">
  <!-- Skip to main content link para accesibilidad -->
  <a href="#main-content" class="skip-link visually-hidden-focusable">Ir al contenido principal</a>
  <!-- Bot√≥n volver arriba -->
  <a
    href="#top"
    class="btn btn-primary position-fixed bottom-0 end-0 m-4 shadow rounded-circle"
    style="
      width: 45px;
      height: 45px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2rem;
    "
    aria-label="Volver arriba"
    >‚Üë</a
  >

    <!-- Navbar -->
    <header class="navbar navbar-expand-lg bg-white shadow-sm sticky-top">
      <div class="container">
        <a class="navbar-brand fw-bold text-primary d-flex align-items-center gap-2" href="../index.html">
        <span class="fs-4">‚ö°</span><span>ConectaLab</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menu">
        <span class="navbar-toggler-icon"></span>
      </button>

      <nav id="menu" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto align-items-lg-center">
          <li class="nav-item">
            <a class="nav-link" href="../index.html">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="servicios.html">Servicios</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="sobre.html">Sobre Nosotros</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contacto.html">Contacto</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="guias.html">Gu√≠as</a>
          </li>
          
          <!-- Men√∫ de Accesibilidad -->
          <li class="nav-item ms-lg-3">
            <button
              id="accessibility-menu-toggle"
              class="btn btn-outline-secondary rounded-circle d-flex align-items-center justify-content-center"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              aria-label="Men√∫ de accesibilidad"
              style="width: 38px; height: 38px"
              title="Opciones de accesibilidad"
            >
              <i class="bi bi-universal-access fs-5"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end shadow-sm mt-2" style="min-width: 280px;">
              <li><h6 class="dropdown-header"><i class="bi bi-universal-access me-2"></i>Accesibilidad</h6></li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <div class="px-3 py-2">
                  <label class="form-label small mb-2">Tama√±o de fuente</label>
                  <div class="d-flex gap-2 align-items-center">
                    <button class="btn btn-sm btn-outline-secondary" id="font-decrease" aria-label="Disminuir fuente">
                      <i class="bi bi-dash-lg"></i>
                    </button>
                    <span class="flex-grow-1 text-center small" id="font-size-display">100%</span>
                    <button class="btn btn-sm btn-outline-secondary" id="font-increase" aria-label="Aumentar fuente">
                      <i class="bi bi-plus-lg"></i>
                    </button>
                    <button class="btn btn-sm btn-outline-secondary" id="font-reset" aria-label="Restablecer fuente">
                      <i class="bi bi-arrow-counterclockwise"></i>
                    </button>
                  </div>
                </div>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <a class="dropdown-item" href="#" id="toggle-high-contrast">
                  <i class="bi bi-circle-half me-2"></i>
                  <span>Alto contraste</span>
                  <i class="bi bi-check2 float-end d-none" id="high-contrast-check"></i>
                </a>
              </li>
              <li>
                <a class="dropdown-item" href="#" id="toggle-reading-mode">
                  <i class="bi bi-book me-2"></i>
                  <span>Modo lectura</span>
                  <i class="bi bi-check2 float-end d-none" id="reading-mode-check"></i>
                </a>
              </li>
            </ul>
          </li>
          
          <!-- Selector de Temas -->
          <li class="nav-item ms-lg-2">
            <button
              id="theme-toggle"
              class="btn btn-outline-secondary rounded-circle d-flex align-items-center justify-content-center"
              type="button"
              aria-label="Cambiar tema"
              style="width: 38px; height: 38px"
              title="Cambiar entre modo claro y oscuro"
            >
              <i class="bi bi-moon-fill fs-5" id="theme-icon"></i>
            </button>
          </li>
          
          <!-- Men√∫ de Usuario -->
          <li class="nav-item dropdown ms-lg-2">
            <button
              class="btn btn-outline-primary rounded-circle d-flex align-items-center justify-content-center position-relative"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              style="width: 38px; height: 38px"
              aria-label="Men√∫ de usuario"
            >
              <i class="bi bi-person-fill fs-5"></i>
              <span id="favoritos-badge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="display: none;">
                0
              </span>
            </button>
            <ul class="dropdown-menu dropdown-menu-end shadow-sm mt-2">
              <li>
                <a class="dropdown-item" href="inicio-sesion.html" id="login-link">
                  <i class="bi bi-box-arrow-in-right me-2"></i>Iniciar sesi√≥n
                </a>
              </li>
              <li>
                <a class="dropdown-item" href="registro.html" id="registro-link">
                  <i class="bi bi-person-plus me-2"></i>Registrarse
                </a>
              </li>
              <li><hr class="dropdown-divider" /></li>
              <li>
                <a class="dropdown-item active" href="perfil.html" id="perfil-link" aria-current="page">
                  <i class="bi bi-person-circle me-2"></i>Mi Perfil
                </a>
              </li>
              <li>
                <a class="dropdown-item" href="#" id="favoritos-link">
                  <i class="bi bi-heart me-2"></i>Favoritos
                  <span id="favoritos-count" class="badge bg-primary rounded-pill ms-2">0</span>
                </a>
              </li>
              <li>
                <a class="dropdown-item text-danger" href="#" id="logout-btn" style="display: none;">
                  <i class="bi bi-box-arrow-right me-2"></i>Cerrar sesi√≥n
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </header>

    <!-- Bottom Navigation - Solo m√≥vil -->
    <nav class="bottom-nav d-lg-none" aria-label="Navegaci√≥n m√≥vil">
      <a href="../index.html" class="bottom-nav-item" aria-label="Inicio">
        <i class="bi bi-house-fill"></i>
        <span>Inicio</span>
      </a>
      <a href="servicios.html" class="bottom-nav-item" aria-label="Servicios">
        <i class="bi bi-grid"></i>
        <span>Servicios</span>
      </a>
      <a href="contacto.html" class="bottom-nav-item" aria-label="Contacto">
        <i class="bi bi-envelope"></i>
        <span>Contacto</span>
      </a>
      <a href="guias.html" class="bottom-nav-item" aria-label="Gu√≠as">
        <i class="bi bi-book"></i>
        <span>Gu√≠as</span>
      </a>
      <button class="bottom-nav-item active" id="bottom-nav-user" aria-label="Usuario" style="border: none; background: none; cursor: pointer;">
        <i class="bi bi-person"></i>
        <span>Perfil</span>
      </button>
    </nav>

    <!-- Breadcrumbs -->
    <div class="breadcrumb-container">
      <div class="container">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="../index.html">Inicio</a></li>
            <li class="breadcrumb-item active" aria-current="page">Mi Perfil</li>
          </ol>
        </nav>
      </div>
    </div>

    <!-- Header -->
    <section class="page-header text-white text-center">
      <div class="container">
        <h1 class="fw-bold">Mi Perfil</h1>
        <p class="opacity-75">Gestion√° tu informaci√≥n y preferencias</p>
      </div>
    </section>

  <!-- Perfil -->
  <main class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 mb-4">
          <div class="card shadow-sm">
            <div class="card-body text-center">
              <img src="../img/perfil1.webp" alt="Avatar" class="rounded-circle mb-3" width="120" height="120" style="object-fit: cover;" id="perfil-avatar" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'120\' height=\'120\'%3E%3Crect fill=\'%23ddd\' width=\'120\' height=\'120\'/%3E%3Ctext fill=\'%23999\' x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' font-size=\'40\'%3Eüë§%3C/text%3E%3C/svg%3E'">
              <h4 class="mb-1" id="perfil-nombre-display">Usuario</h4>
              <p class="text-muted small mb-3" id="perfil-email-display">usuario@conectalab.com.ar</p>
              <div class="stars mb-3">
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <span class="ms-2">5.0</span>
              </div>
              <button class="btn btn-outline-primary btn-sm w-100">
                <i class="bi bi-pencil me-2"></i>Editar Perfil
              </button>
            </div>
          </div>

          <!-- Estad√≠sticas -->
          <div class="card shadow-sm mt-3">
            <div class="card-body">
              <h6 class="fw-semibold mb-3">Estad√≠sticas</h6>
              <div class="d-flex justify-content-between mb-2">
                <span class="text-muted">Servicios favoritos</span>
                <strong id="stats-favoritos">0</strong>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span class="text-muted">Contactos realizados</span>
                <strong>12</strong>
              </div>
              <div class="d-flex justify-content-between">
                <span class="text-muted">Miembro desde</span>
                <strong>2024</strong>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-8">
          <!-- Tabs -->
          <ul class="nav nav-tabs mb-4" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button">
                <i class="bi bi-person me-2"></i>Informaci√≥n
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="favoritos-tab" data-bs-toggle="tab" data-bs-target="#favoritos" type="button">
                <i class="bi bi-heart me-2"></i>Favoritos
                <span class="badge bg-danger rounded-pill ms-2" id="favoritos-tab-count">0</span>
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="config-tab" data-bs-toggle="tab" data-bs-target="#config" type="button">
                <i class="bi bi-gear me-2"></i>Configuraci√≥n
              </button>
            </li>
          </ul>

          <div class="tab-content">
            <!-- Informaci√≥n -->
            <div class="tab-pane fade show active" id="info" role="tabpanel">
              <div class="card shadow-sm">
                <div class="card-body">
                  <h5 class="mb-4">Informaci√≥n Personal</h5>
                  <form id="form-perfil-info">
                    <div class="row g-3">
                      <div class="col-md-6">
                        <label class="form-label">Nombre</label>
                        <input type="text" id="perfil-nombre" class="form-control" required>
                      </div>
                      <div class="col-md-6">
                        <label class="form-label">Apellido</label>
                        <input type="text" id="perfil-apellido" class="form-control">
                      </div>
                      <div class="col-12">
                        <label class="form-label">Email</label>
                        <input type="email" id="perfil-email" class="form-control" readonly>
                        <small class="text-muted">El email no se puede modificar</small>
                      </div>
                      <div class="col-12">
                        <label class="form-label">Tel√©fono</label>
                        <input type="tel" id="perfil-telefono" class="form-control" placeholder="Agregar tel√©fono">
                      </div>
                      <div class="col-12">
                        <label class="form-label">Zona</label>
                        <select id="perfil-zona" class="form-select">
                          <option value="">Seleccionar zona</option>
                          <option value="Centro">Centro</option>
                          <option value="Norte">Norte</option>
                          <option value="Sur">Sur</option>
                          <option value="Este">Este</option>
                          <option value="Oeste">Oeste</option>
                        </select>
                      </div>
                      <div class="col-12">
                        <button type="submit" class="btn btn-primary">
                          <i class="bi bi-check-circle me-2"></i>Guardar cambios
                        </button>
                        <span id="perfil-mensaje" class="ms-3"></span>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <!-- Favoritos -->
            <div class="tab-pane fade" id="favoritos" role="tabpanel">
              <div class="card shadow-sm">
                <div class="card-body">
                  <h5 class="mb-4">Mis Servicios Favoritos</h5>
                  <div id="favoritos-list">
                    <p class="text-muted text-center py-5">
                      <i class="bi bi-heart fs-1 d-block mb-3"></i>
                      No ten√©s servicios favoritos a√∫n.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Configuraci√≥n -->
            <div class="tab-pane fade" id="config" role="tabpanel">
              <div class="card shadow-sm">
                <div class="card-body">
                  <h5 class="mb-4">Preferencias</h5>
                  <div class="mb-3">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="notificaciones-email">
                      <label class="form-check-label" for="notificaciones-email">
                        Recibir notificaciones por email
                      </label>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="notificaciones-push" checked>
                      <label class="form-check-label" for="notificaciones-push">
                        Notificaciones push
                      </label>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label class="form-label">Idioma</label>
                    <select class="form-select">
                      <option selected>Espa√±ol</option>
                      <option>English</option>
                    </select>
                  </div>
                  <button type="button" id="btn-guardar-preferencias" class="btn btn-primary">
                    <i class="bi bi-check-circle me-2"></i>Guardar preferencias
                  </button>
                  <span id="preferencias-mensaje" class="ms-3"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- ============================================
       FOOTER
       ============================================ -->
  <footer class="py-5 bg-dark text-white">
    <div class="container">
      <div class="row g-4 mb-4">
        <div class="col-md-4">
          <h5 class="fw-bold mb-3">
            <span class="fs-4">‚ö°</span> ConectaLab
          </h5>
          <p class="text-white-50 small">
            Conectamos profesionales con clientes en San Nicol√°s de los Arroyos y alrededores.
          </p>
        </div>
        <div class="col-md-4">
          <h5 class="fw-bold mb-3">Enlaces r√°pidos</h5>
          <ul class="list-unstyled">
            <li class="mb-2">
              <a href="servicios.html" class="text-white-50 text-decoration-none small">Servicios</a>
            </li>
            <li class="mb-2">
              <a href="sobre.html" class="text-white-50 text-decoration-none small">Sobre Nosotros</a>
            </li>
            <li class="mb-2">
              <a href="contacto.html" class="text-white-50 text-decoration-none small">Contacto</a>
            </li>
            <li class="mb-2">
              <a href="guias.html" class="text-white-50 text-decoration-none small">Gu√≠as</a>
            </li>
          </ul>
        </div>
        <div class="col-md-4">
          <h5 class="fw-bold mb-3">Seguinos</h5>
          <div class="d-flex gap-3 mb-3">
            <a href="#" class="text-white-50 fs-5" aria-label="Instagram">
              <i class="bi bi-instagram"></i>
            </a>
            <a href="#" class="text-white-50 fs-5" aria-label="Facebook">
              <i class="bi bi-facebook"></i>
            </a>
            <a href="#" class="text-white-50 fs-5" aria-label="WhatsApp">
              <i class="bi bi-whatsapp"></i>
            </a>
          </div>
        </div>
      </div>
      <hr class="border-secondary" />
      <div class="row">
        <div class="col-12">
          <div class="text-center mb-3">
            <small class="text-white-50">¬© 2025 ConectaLab | Todos los derechos reservados.</small>
          </div>
          <nav
            class="footer-links d-flex justify-content-center align-items-center gap-3 flex-wrap"
            aria-label="Enlaces legales"
          >
            <a href="contacto.html" class="text-white-50 text-decoration-none small">Contacto</a>
            <span class="text-white-50">‚Ä¢</span>
            <a href="guias.html" class="text-white-50 text-decoration-none small">Gu√≠as</a>
            <span class="text-white-50">‚Ä¢</span>
            <a href="politica-privacidad.html" class="text-white-50 text-decoration-none small">Pol√≠tica de Privacidad</a>
            <span class="text-white-50">‚Ä¢</span>
            <a href="terminos-condiciones.html" class="text-white-50 text-decoration-none small">T√©rminos y Condiciones</a>
          </nav>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS - Defer para no bloquear render -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
    defer
  ></script>
  <!-- Error Tracker - Cargar primero para capturar errores -->
  <script src="../js/utils/error-tracker.js"></script>
  <!-- Touch Gestures - Solo m√≥vil -->
  <script src="../js/utils/touch-gestures.js" defer></script>
  <!-- Mobile Forms Optimization -->
  <script src="../js/utils/mobile-forms.js" defer></script>
  <!-- Accessibility Features -->
  <script src="../js/utils/accessibility.js" defer></script>
  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="../js/supabase-config.js"></script>
  <!-- JavaScript propio - Defer para mejor performance -->
  <script src="../js/main.js" defer></script>
  <!-- Datos de servicios -->
  <script src="../js/servicios-data.js"></script>
  <!-- Scripts del perfil -->
  <script src="../js/perfil.js"></script>
</body>
</html>

